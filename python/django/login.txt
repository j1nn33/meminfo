https://wsvincent.com/django-user-authentication-tutorial-login-and-logout/

#Add Django site authentication urls (for login, logout, password management)
urlpatterns += [
    path('accounts/', include('django.contrib.auth.urls')),
]

создать в корне проекта такую структуру

(<nameProject>) $ mkdir templates
(<nameProject>) $ mkdir templates/registration
(<nameProject>) $ touch templates/registration/login.html


# <nameProject><nameProject>/settings.py
TEMPLATES = [
    {
        ...
        'DIRS': ['./templates',],
        ...
    },
]


LOGIN_REDIRECT_URL = '/'

http://127.0.0.1:8000/accounts/login/

Create a homepage

(<nameProject>)  $ touch templates/base.html
(<nameProject>)  $ touch templates/home.html


Сделать редирект в urls

<nameProject><nameProject>/urls.py
from django.contrib import admin
from django.urls import path, include
from django.views.generic.base import TemplateView # new

urlpatterns = [
    path('admin/', admin.site.urls),
    path('accounts/', include('django.contrib.auth.urls')),
    path('', TemplateView.as_view(template_name='home.html'), name='home'), # new
]


(при тестировании важно включать ссылки из терминила или новые для актульного отображения)

-----------------------------------------------


Для подключения аутентификации на весь сайт добаляем в базовый шаблон html
wrapper.html  пример object


{% if user.is_authenticated %}
  {% block content %}

  {% endblock %}
 {% else %}

 <p align="center"><strong>Вам необходимо войти на сайт</strong></p>
 <p align="center"><a class="btn btn-info"href="{% url 'login' %}">login</a></p>


 {% endif %}
